YUI.add("gallery-magnifier",function(F){var B=function(H){this._image={};B.superclass.constructor.apply(this,arguments);},D="Magnifier",C="magnifier",E=F.ClassNameManager.getClassName(C,"display"),G=F.ClassNameManager.getClassName(C,"hidden"),A="<div><div><img /></div></div>";B.NAME=D;B.NS=D;B.ATTRS={host:{validator:function(H){if(!H.test("img")){F.fail(D+" can't be attached to this node.");return false;}return true;}},display:{writeOnce:true,setter:function(H){H=F.one(H);return H;}},height:{value:100,validator:F.Lang.isNumber},width:{value:100,validator:F.Lang.isNumber},zoom:{value:2,validator:F.Lang.isNumber}};F.extend(B,F.Plugin.Base,{initializer:function(){var H=this.get("host");this._image.width=parseInt(H.getStyle("width"),10);this._image.height=parseInt(H.getStyle("height"),10);this._renderDisplay();this.bindEvents();},bindEvents:function(){var H=this.get("host"),I=this.get("display");H.on("mouseover",function(){I.removeClass(G);},this);H.on("mouseout",function(){I.addClass(G);},this);H.on("mousemove",this._moveViewport,this);},_renderDisplay:function(){var L=this.get("display"),H=this.get("height"),J=this.get("width"),K=this.get("host"),I;if(!F.Lang.isValue(L)){L=F.Node.create(A);this.set("display",L);this.get("host").get("parentNode").append(L);}I=L.one("img");if(F.Lang.isValue(H)){L.setStyle("height",H);}if(F.Lang.isValue(J)){L.setStyle("width",J);}L.addClass(E);this._configureImage();L.addClass(G);},_configureImage:function(){var K=this.get("zoom"),M=this.get("display"),J=M.one("img"),L=this.get("host"),H=L.getXY(),I=M.getXY();J.set("src",L.get("src"));J.setStyles({height:this._image.height*K,width:this._image.width*K});J.setXY(I);},_moveViewport:function(M){var J=this.get("zoom"),I=this.get("display").one("div"),K=this.get("host"),H=M.pageX-K.getX(),O=M.pageY-K.getY(),N=-H*J+this.get("height")/2,L=-O*J+this.get("width")/2;I.setXY([N,L]);}});F.Magnifier=B;},"@VERSION@",{requires:["plugin","node","classnamemanager"]});