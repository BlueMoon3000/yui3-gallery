YUI.add("gallery-slideshow",function(B){var A=function(){A.superclass.constructor.apply(this,arguments);};A.NAME="SlideShow";A.NS="SlideShow";A.ATTRS={delay:{value:5000,validator:B.Lang.isNumber},images:{validator:B.Lang.isArray},animation:{validator:function(C){return B.Lang.isObject(B.Anim)&&C instanceof B.Anim;},setter:function(C){var D=this;C.on("end",function(){D.endTransition();});}}};B.extend(A,B.Widget,{renderUI:function(){var C=this.get("contentBox"),D=this.get("images");this._currentImage=B.Node.create("<img style='position: absolute; visibility: visible; z-index: 2;' />");this._currentImage.set("src",D[0].src);this._nextImage=B.Node.create("<img style='position: absolute; visibility: hidden; z-index: 1;' />");this._nextImage.set("src",D[1].src);this._currentIndex=2;C.insert(this._currentImage);C.insert(this._nextImage);},bindUI:function(){this.on("slideshow:endTransition",this.endTransition);this.on("slideshow:beginTransition",this.beginTransition);B.later(this.get("delay"),this,"beginTransition");},beginTransition:function(){this._nextImage.setStyle("visibility","visible");var C=this.get("animation");if(C){C.set("node",this._currentImage);C.run();}else{this.endTransition();}},endTransition:function(){var D=this._currentImage,C=this.get("images"),E=this.get("animation");D.setStyle("zIndex",1);this._nextImage.setStyle("zIndex",2);D.setStyle("visibility","hidden");this._currentImage=this._nextImage;this._nextImage=D;if(E){this._nextImage.setStyles(E.get("from"));}this._nextImage.set("src",C[this._currentIndex++].src);if(this._currentIndex==C.length){this._currentIndex=0;}B.later(this.get("delay"),this,"beginTransition");}});B.SlideShow=A;},"@VERSION@",{requires:["widget"],optional:["anim"]});