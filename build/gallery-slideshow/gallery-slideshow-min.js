YUI.add("gallery-slideshow",function(D){var C=function(){this._imageList=[];C.superclass.constructor.apply(this,arguments);},A="SlideShow",B=D.Lang.isNumber;C.NAME=A;C.NS=A;C.HTML_PARSER={title:function(E){var F=E.one(".hd h4");return F?F.get("innerHTML"):"";},image_height:function(E){var F=E.one(".bd");return F?parseInt(F.getStyle("height"),10):null;},image_width:function(E){var F=E.one(".bd");return F?parseInt(F.getStyle("width"),10):null;},bodyNode:".yui3-widget-body",headerNode:".yui3-widget-header",footerNode:".yui3-widget-footer",images:function(E){E.all(".yui3-widget-body li img").each(function(G){var F={};this._parseImage(G,F);this._imageList.push(F);},this);}};C.ATTRS={delay:{value:5000,validator:B},images:{validator:D.Lang.isArray,setter:function(E){D.Array.each(E,function(F){this._imageList.push(F);},this);},getter:function(){return this._imageList;}},animation:{validator:D.Lang.isObject,setter:function(E){if(!(E instanceof D.Anim)){E=new D.Anim(E);}E.on("end",function(){this.endTransition();},this);return E;}},image_height:{validator:B,setter:function(E){if(this.get("rendered")){this.get("bodyNode").setStyle("height",E);}return E;}},image_width:{validator:B,setter:function(E){if(this.get("rendered")){this.get("bodyNode").setStyle("width",E);}return E;}},title:{value:"",validator:D.Lang.isString,setter:function(E){if(this.get("rendered")){this._setHeaderContents(E);}return E;}},bodyNode:{writeOnce:true},headerNode:{writeOnce:true}};D.extend(C,D.Widget,{TEMPLATES:{header:"<div class='yui3-widget-header'></div>",body:"<ul class='yui3-widget-body'></ul>",footer:"<div class='yui3-widget-footer'></div>"},createImage:function(F,G){var E=this.get("bodyNode"),I=D.Node.create("<li><img /></li>"),H=I.one("img");H.set("src",F.src);I.setStyle("zIndex",G);F._node=I;E.insert(I);D.later(1000,this,function(K,J){K.setXY(J.getXY());},[I,E]);return I;},_setHeaderContents:function(F){var E=this.get("headerNode");if(!D.Lang.isValue(E)){E=this._addTemplate(this.TEMPLATES.header,0);this.set("headerNode",E);}E.set("innerHTML",F);},_addTemplate:function(F,E){var G=D.Node.create(F);this.get("contentBox").insert(G,E);return G;},_parseImage:function(F,E){E.src=F.get("src");},renderUI:function(){var E=this.get("images"),H=this.get("bodyNode"),I=this.get("title"),F=this.get("image_height"),G=this.get("image_width");if(I.length>0){this._setHeaderContents(I);if(!D.Lang.isValue(H)){H=this._addTemplate(this.TEMPLATES.body);this.set("bodyNode",H);}}if(G){H.setStyle("width",G);}if(F){H.setStyle("height",F);}H.all("li").remove();D.Array.each(E,function(L,M,K){var J=this.createImage(L,-1*M);if(M===0){this.currentImage=J;}},this);},bindUI:function(){D.later(this.get("delay"),this,"beginTransition");},beginTransition:function(){var E=this.get("animation");if(E){E.set("node",this.currentImage);E.run();}else{this.endTransition();}},endTransition:function(){var E=this.get("bodyNode").all("li"),F=this.get("animation");E.each(function(H,I,K){var J=+H.getStyle("zIndex"),G=-1*K.size();if(J===-1){this.currentImage=H;}H.setStyle("zIndex",J===0?G+1:J+1);},this);E.setStyles(F.get("from"));D.later(this.get("delay"),this,"beginTransition");}});D.SlideShow=C;},"@VERSION@",{requires:["widget","substitute"],optional:["anim"]});