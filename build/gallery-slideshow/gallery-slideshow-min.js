YUI.add("gallery-slideshow",function(D){var C=function(){this._imageList=[];C.superclass.constructor.apply(this,arguments);},A="SlideShow",B=D.Lang.isNumber;C.NAME=A;C.NS=A;C.HTML_PARSER={title:function(E){var F=E.one(".yui3-widget-header");return F?F.get("innerHTML"):"";},image_height:function(E){var F=E.one(".yui3-widget-body");return F?parseInt(F.getStyle("height"),10):null;},image_width:function(E){var F=E.one(".yui3-widget-body");return F?parseInt(F.getStyle("width"),10):null;},bodyNode:".yui3-widget-body",headerNode:".yui3-widget-header",footerNode:".yui3-widget-footer",images:function(E){E.all(".yui3-widget-body li").each(function(H,G){var F={};this._parseImage(H,F);F._node.setStyle("zIndex",-1*G);this._imageList.push(F);},this);}};C.ATTRS={delay:{value:5000,validator:B},animation:{validator:D.Lang.isObject,setter:function(E){if(!(E instanceof D.Anim)){E=new D.Anim(E);}E.on("end",function(){this.endTransition();},this);return E;}},image_height:{validator:B,setter:function(E){if(this.get("rendered")){this.get("bodyNode").setStyle("height",E);}return E;}},image_width:{validator:B,setter:function(E){if(this.get("rendered")){this.get("bodyNode").setStyle("width",E);}return E;}},title:{value:"",validator:D.Lang.isString,setter:function(E){if(this.get("rendered")){this._setHeaderContents(E);}return E;}},images:{lazyAdd:false,validator:D.Lang.isArray,getter:function(){return this._imageList;},setter:function(E){this.clearImages();this.addImages(E);}},bodyNode:{writeOnce:true},headerNode:{writeOnce:true},footerNode:{writeOnce:true}};D.extend(C,D.Widget,{TEMPLATES:{header:"<div class='yui3-widget-header'></div>",body:"<ul class='yui3-widget-body'></ul>",footer:"<div class='yui3-widget-footer'></div>"},_renderImages:function(){D.Array.each(this._imageList,function(G,F){if(!D.Lang.isValue(G._node)){var E=this._createImage(G,-1*F);if(F===0){this.currentImage=E;}}},this);},_createImage:function(F,G){var E=this.get("bodyNode"),I=D.Node.create("<li><img /></li>"),H=I.one("img");H.set("src",F.src);I.setStyle("zIndex",G);F._node=I;E.insert(I);D.later(1000,this,function(K,J){K.setXY(J.getXY());},[I,E]);return I;},_setHeaderContents:function(F){var E=this.get("headerNode");if(!D.Lang.isValue(E)){E=this._addTemplate(this.TEMPLATES.header,0);this.set("headerNode",E);}E.set("innerHTML",F);},_addTemplate:function(F,E){var G=D.Node.create(F);this.get("contentBox").insert(G,E);return G;},_parseImage:function(F,E){E._node=F;E.src=F.one("img").get("src");},clearImages:function(){if(this.get("rendered")){this._destroyImagesUI();}this._imageList=[];},addImages:function(E){if(D.Lang.isArray(E)){D.Array.each(E,function(F){this._imageList.push(F);},this);}else{this._imageList.push(E);}if(this.get("rendered")){this._renderImages();}},_destroyImagesUI:function(){this.get("bodyNode").all("li").remove();D.Array.each(this._imageList,function(E){delete E._node;});},renderUI:function(){var G=this.get("bodyNode"),H=this.get("title"),E=this.get("image_height"),F=this.get("image_width");if(H.length>0){this._setHeaderContents(H);if(!D.Lang.isValue(G)){G=this._addTemplate(this.TEMPLATES.body);this.set("bodyNode",G);}}if(F){G.setStyle("width",F);}if(E){G.setStyle("height",E);}this._renderImages();},bindUI:function(){D.later(this.get("delay"),this,"beginTransition");},beginTransition:function(){var E=this.get("animation");if(E){E.set("node",this.currentImage);E.run();}else{this.endTransition();}},endTransition:function(){var E=this.get("bodyNode").all("li"),F=this.get("animation");E.each(function(H,I,K){var J=+H.getStyle("zIndex"),G=-1*K.size();if(J===-1){this.currentImage=H;}H.setStyle("zIndex",J===0?G+1:J+1);},this);E.setStyles(F.get("from"));D.later(this.get("delay"),this,"beginTransition");}});D.SlideShow=C;},"@VERSION@",{requires:["widget","substitute"],optional:["anim"]});