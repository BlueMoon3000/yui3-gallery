<<<<<<< HEAD
YUI.add("gallery-slideshow",function(B){var F=function(){this._imageList=[];F.superclass.constructor.apply(this,arguments);},J="zIndex",E="SlideShow",G="slideshow",A=B.Lang.isNumber,C=B.ClassNameManager.getClassName,I={header:C(G,"header"),body:C(G,"body"),footer:C(G,"footer")};F.NAME=E;F.NS=E;F.HTML_PARSER={title:function(K){var L=K.one("."+I.header);return L?L.get("innerHTML"):"";},image_height:function(K){var L=K.one("."+I.body);return L?parseInt(L.getStyle("height"),10):null;},image_width:function(K){var L=K.one("."+I.body);return L?parseInt(L.getStyle("width"),10):null;},bodyNode:"ul."+I.body,headerNode:"div."+I.header,footerNode:"div."+I.footer,images:function(K){K.all("."+I.body+" li").each(function(N,M){var L={};this._parseImage(N,L);L._node.setStyle(J,-1*M);this._imageList.push(L);},this);}};F.ATTRS={delay:{value:5000,validator:A},animation:{validator:B.Lang.isObject,setter:function(K){if(!(K instanceof B.Anim)){K=new B.Anim(K);}K.on("end",function(){this.endTransition();},this);return K;}},image_height:{validator:A,setter:function(K){if(this.get("rendered")){this.get("bodyNode").setStyle("height",K);}return K;}},image_width:{validator:A,setter:function(K){if(this.get("rendered")){this.get("bodyNode").setStyle("width",K);}return K;}},title:{value:"",validator:B.Lang.isString,setter:function(K){if(this.get("rendered")){this._setHeaderContents(K);}return K;}},images:{lazyAdd:false,validator:B.Lang.isArray,getter:function(){return this._imageList;},setter:function(K){this.clearImages();this.addImages(K);}},bodyNode:{writeOnce:true},headerNode:{writeOnce:true},footerNode:{writeOnce:true}};B.extend(F,B.Widget,{TEMPLATES:{header:"<div class='"+I.header+"'></div>",body:"<ul class='"+I.body+"'></ul>",footer:"<div class='"+I.footer+"'></div>"},_renderImages:function(){var L=1,K=this.get("bodyNode");K.all("li").each(function(M){var N=+M.getStyle(J)||2;L=L>N?N:L;});B.Array.each(this._imageList,function(N,M){L-=1;if(!B.Lang.isValue(N._node)){this._createImage(N,L);}else{N._node.setStyle(J,L);}if(M===0){this.currentImage=N._node;}},this);},_createImage:function(L,M){var K=this.get("bodyNode"),O=B.Node.create("<li><img /></li>"),N=O.one("img");N.set("src",L.src);O.setStyle(J,M);L._node=O;K.insert(O);B.later(1000,this,function(Q,P){Q.setXY(P.getXY());},[O,K]);return O;},_setHeaderContents:function(L){var K=this.get("headerNode");if(!B.Lang.isValue(K)){K=this._addTemplate(this.TEMPLATES.header,0);this.set("headerNode",K);}K.set("innerHTML",L);},_addTemplate:function(L,K){var M=B.Node.create(L);this.get("contentBox").insert(M,K);return M;},_parseImage:function(L,K){K._node=L;K.src=L.one("img").get("src");},clearImages:function(){if(this.get("rendered")){this._destroyImagesUI();}this._imageList=[];},addImages:function(K){if(B.Lang.isArray(K)){B.Array.each(K,function(L){this._imageList.push(L);},this);}else{this._imageList.push(K);}if(this.get("rendered")){this._renderImages();}},_destroyImagesUI:function(){this.get("bodyNode").all("li").remove();B.Array.each(this._imageList,function(K){delete K._node;});},renderUI:function(){var M=this.get("bodyNode"),N=this.get("title"),K=this.get("image_height"),L=this.get("image_width");if(N.length>0){this._setHeaderContents(N);}if(!B.Lang.isValue(M)){M=this._addTemplate(this.TEMPLATES.body);this.set("bodyNode",M);}if(L){M.setStyle("width",L);}if(K){M.setStyle("height",K);}this._renderImages();},bindUI:function(){B.later(this.get("delay"),this,"beginTransition");},beginTransition:function(){var K=this.get("animation");if(K){K.set("node",this.currentImage);K.run();}else{this.endTransition();}},endTransition:function(){var K=this.get("bodyNode").all("li"),L=this.get("animation");K.each(function(N,O,Q){var P=+N.getStyle(J),M=-1*Q.size();if(P===-1){this.currentImage=N;}N.setStyle(J,P===0?M+1:P+1);},this);K.setStyles(L.get("from"));B.later(this.get("delay"),this,"beginTransition");}});B.SlideShow=F;var H=function(K){this._ss=K.host;H.superclass.constructor.apply(this,arguments);};H.NS="padder";H.NAME="slideshowImagePadder";B.extend(H,B.Plugin.Base,{initializer:function(K){this.doAfter("_createImage",this._padImage);},_padImage:function(K){B.later(500,this,function(S,O){var M=parseInt(O.getStyle("height"),10),P=parseInt(O.getStyle("width"),10),R=parseInt(S.one("img").getStyle("height"),10),N=parseInt(S.one("img").getStyle("width"),10),Q=(P-N)/2,L=(M-R)/2;S.setStyle("padding",L+" "+Q);},[K._node,this._ss.get("bodyNode")]);}});B.SlideShow.ImagePadder=H;var D=function(K){this._ss=K.host;D.superclass.constructor.apply(this,arguments);};D.NS="scaling";D.NAME="slideshowImageScaler";D.ATTRS={height:{validator:B.Lang.isNumber},width:{validator:B.Lang.isNumber},scaleFactor:{validator:B.Lang.isNumber}};B.extend(D,B.Plugin.Base,{initializer:function(K){this.doAfter("_createImage",this._scaleImage);},_scaleImage:function(L){var N=this.get("scaleFactor"),M=L.width||this.get("width"),K=L.height||this.get("height"),O=L._node.one("img");if(N){O.setStyles({height:N+"%",width:N+"%"});}else{if(M){O.setStyle("width",M);}if(K){O.setStyle("height",K);}}}});B.SlideShow.ImageScaler=D;},"@VERSION@",{requires:["widget","substitute","plugin"],optional:["anim"]});
=======
YUI.add("gallery-slideshow",function(H){var F=function(){this._imageList=[];F.superclass.constructor.apply(this,arguments);},E="zIndex",A="SlideShow",D="slideshow",C=H.Lang.isNumber,B=H.ClassNameManager.getClassName,G={header:B(D,"header"),body:B(D,"body"),footer:B(D,"footer")};F.NAME=A;F.NS=A;F.HTML_PARSER={title:function(I){var J=I.one(G.header);return J?J.get("innerHTML"):"";},image_height:function(I){var J=I.one(G.body);return J?parseInt(J.getStyle("height"),10):null;},image_width:function(I){var J=I.one(G.body);return J?parseInt(J.getStyle("width"),10):null;},bodyNode:G.body,headerNode:G.header,footerNode:G.footer,images:function(I){I.all(G.body+" li").each(function(L,K){var J={};this._parseImage(L,J);J._node.setStyle(E,-1*K);this._imageList.push(J);},this);}};F.ATTRS={delay:{value:5000,validator:C},animation:{validator:H.Lang.isObject,setter:function(I){if(!(I instanceof H.Anim)){I=new H.Anim(I);}I.on("end",function(){this.endTransition();},this);return I;}},image_height:{validator:C,setter:function(I){if(this.get("rendered")){this.get("bodyNode").setStyle("height",I);}return I;}},image_width:{validator:C,setter:function(I){if(this.get("rendered")){this.get("bodyNode").setStyle("width",I);}return I;}},title:{value:"",validator:H.Lang.isString,setter:function(I){if(this.get("rendered")){this._setHeaderContents(I);}return I;}},images:{lazyAdd:false,validator:H.Lang.isArray,getter:function(){return this._imageList;},setter:function(I){this.clearImages();this.addImages(I);}},bodyNode:{writeOnce:true},headerNode:{writeOnce:true},footerNode:{writeOnce:true}};H.extend(F,H.Widget,{TEMPLATES:{header:"<div class='"+G.header+"'></div>",body:"<ul class='"+G.body+"'></ul>",footer:"<div class='"+G.footer+"'></div>"},_renderImages:function(){var J=1,I=this.get("bodyNode");I.all("li").each(function(K){var L=+K.getStyle(E)||2;J=J>L?L:J;});H.Array.each(this._imageList,function(M,L){if(!H.Lang.isValue(M._node)){J-=1;var K=this._createImage(M,J);if(L===0){this.currentImage=K;}}},this);},_createImage:function(J,K){var I=this.get("bodyNode"),M=H.Node.create("<li><img /></li>"),L=M.one("img");L.set("src",J.src);M.setStyle(E,K);J._node=M;I.insert(M);H.later(1000,this,function(O,N){O.setXY(N.getXY());},[M,I]);return M;},_setHeaderContents:function(J){var I=this.get("headerNode");if(!H.Lang.isValue(I)){I=this._addTemplate(this.TEMPLATES.header,0);this.set("headerNode",I);}I.set("innerHTML",J);},_addTemplate:function(J,I){var K=H.Node.create(J);this.get("contentBox").insert(K,I);return K;},_parseImage:function(J,I){I._node=J;I.src=J.one("img").get("src");},clearImages:function(){if(this.get("rendered")){this._destroyImagesUI();}this._imageList=[];},addImages:function(I){if(H.Lang.isArray(I)){H.Array.each(I,function(J){this._imageList.push(J);},this);}else{this._imageList.push(I);}if(this.get("rendered")){this._renderImages();}},_destroyImagesUI:function(){this.get("bodyNode").all("li").remove();H.Array.each(this._imageList,function(I){delete I._node;});},renderUI:function(){var K=this.get("bodyNode"),L=this.get("title"),I=this.get("image_height"),J=this.get("image_width");if(L.length>0){this._setHeaderContents(L);if(!H.Lang.isValue(K)){K=this._addTemplate(this.TEMPLATES.body);this.set("bodyNode",K);}}if(J){K.setStyle("width",J);}if(I){K.setStyle("height",I);}this._renderImages();},bindUI:function(){H.later(this.get("delay"),this,"beginTransition");},beginTransition:function(){var I=this.get("animation");if(I){I.set("node",this.currentImage);I.run();}else{this.endTransition();}},endTransition:function(){var I=this.get("bodyNode").all("li"),J=this.get("animation");I.each(function(L,M,O){var N=+L.getStyle(E),K=-1*O.size();if(N===-1){this.currentImage=L;}L.setStyle(E,N===0?K+1:N+1);},this);I.setStyles(J.get("from"));H.later(this.get("delay"),this,"beginTransition");}});H.SlideShow=F;},"gallery-2010.03.23-17-54",{requires:["widget","substitute"],optional:["anim"]});
>>>>>>> 94439ec26f261e2b796f74cb22f5a85434b025c4
