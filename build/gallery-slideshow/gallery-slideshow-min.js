YUI.add("gallery-slideshow",function(B){var A=function(){A.superclass.constructor.apply(this,arguments);this._imageLoader=new B.ImgLoadGroup({timeLimit:1});};A.NAME="SlideShow";A.NS="SlideShow";A.ATTRS={delay:{value:5000,validator:B.Lang.isNumber},images:{validator:B.Lang.isArray,setter:function(C){B.Array.each(C,function(E,F,D){this._imageLoader.registerImage({srcUrl:E.src});},this);}},animation:{validator:function(C){return B.Lang.isObject(B.Anim)&&C instanceof B.Anim;},setter:function(C){C.on("end",function(){this.endTransition();},this);}}};B.extend(A,B.Widget,{renderUI:function(){var C=this.get("contentBox"),D=this.get("images");this._currentImage=B.Node.create("<div class='yui-ss-img'><img /></div>");this.setImage(this._currentImage,D[0]);this._currentImage.setStyle("position","absolute");this._currentImage.setStyles({zIndex:2,visibility:"visible"});this._nextImage=B.Node.create("<div class='yui-ss-img'><img /></div>");this._nextImage.setStyle("position","absolute");this.setImage(this._nextImage,D[1]);this._nextImage.setStyles({zIndex:1,visibility:"hidden"});this._currentIndex=2;C.insert(this._currentImage);C.insert(this._nextImage);},bindUI:function(){B.later(this.get("delay"),this,"beginTransition");},setImage:function(E,G){var F=E.one("img"),J,C,D=this.get("width"),K=this.get("height"),H,I;F.set("src",G.src);F.setStyles({width:"auto",height:"auto"});J=G.width||F.get("width");C=G.height||F.get("height");H=(D-J)/2;I=(K-C)/2;F.setStyles({width:J,height:C});E.setStyles({padding:I+" "+H});},beginTransition:function(){this._nextImage.setStyle("visibility","visible");var C=this.get("animation");if(C){C.set("node",this._currentImage);C.run();}else{this.endTransition();}},endTransition:function(){var D=this._currentImage,C=this.get("images"),E=this.get("animation");D.setStyle("zIndex",1);this._nextImage.setStyle("zIndex",2);D.setStyle("visibility","hidden");this._currentImage=this._nextImage;this._nextImage=D;if(E){this._nextImage.setStyles(E.get("from"));}this.setImage(this._nextImage,C[this._currentIndex++]);if(this._currentIndex==C.length){this._currentIndex=0;}B.later(this.get("delay"),this,"beginTransition");}});B.SlideShow=A;},"@VERSION@",{optional:["anim"],requires:["widget","imageloader"]});